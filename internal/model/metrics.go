package model

// Типы метрик
const (
	// Counter - тип метрики счётчик (целочисленное значение, которое только увеличивается)
	Counter = "counter"
	// Gauge - тип метрики измеритель (вещественное значение, которое может изменяться в любую сторону)
	Gauge = "gauge"
)

// NOTE: Не усложняем пример, вводя иерархическую вложенность структур.
// Органичиваясь плоской моделью.
// Delta и Value объявлены через указатели,
// что бы отличать значение "0", от не заданного значения
// и соответственно не кодировать в структуру.
// Metrics представляет собой модель метрики с её идентификатором, типом и значением.
type Metrics struct {
	// ID - уникальный идентификатор метрики
	ID string `json:"id"`
	// MType - тип метрики (counter или gauge)
	MType string `json:"type"`
	// Delta - значение изменения для счётчика (только для типа counter)
	Delta *int64 `json:"delta,omitempty"`
	// Value - значение для измерителя (только для типа gauge)
	Value *float64 `json:"value,omitempty"`
	// Hash - хеш-значение для проверки целостности (опционально)
	Hash string `json:"hash,omitempty"`
}
